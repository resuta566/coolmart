<div class="order-details">
  <div class="shadow order-header-detail" style="width: 100%; min-height: 60px;">
    <div style="float: left;">
      <span style="color: #212121;">
        Order #{{ orderData?.address.order_id }}
      </span>
      <br>
      <span class="order-date">
        Placed on {{ orderData?.address.date_placed }}
      </span>
    </div>
    <div class="order-header-total">
      <span class="total-header-title">Total:</span> ₱{{  orderData?.sub_total }}
    </div>
  </div>
  <div class="order" *ngFor="let package of orderData?.items.package; let i = index">
    <div class="order-detail">
      <div style="float: left;">
        <div class="item-number">
          <span class="fa fa-gift"></span> Package {{ i+1 }} <br>
        </div>
      </div>
      <div style="float: right;">
        <div class="item-seller">
          <span class="fa"></span> Fullfilled by: <span style="font-weight: bold;">{{ package?.seller }}</span><br>
        </div>
      </div>
    </div>
    <div class="order-tracking-status">
      <div class="status-title">
        Status
      </div>
      <div class="package-status">
        {{ package?.status }}
      </div>
    </div>
    <tracking-logs [logs]="package.logs">
    </tracking-logs>
    <div class="order-package-details">
      <ng-container *ngFor="let item of package.carts">
        <div class="package-item">
          <div class="item-img">
            <ng-container *ngIf="item.attributes.item_images.length > 0; else noImage">
              <img src="{{ apiUrl }}/{{ item.images[0] }}" class="item-img" alt="product-image"/>
            </ng-container>
            <ng-template #noImage>
              <img src="assets/images/noimage2.jpg" class="item-img" alt="product-image"/>
            </ng-template>
          </div>
          <div class="item-name">
            {{ item.attributes.item_name }} <br>
            <span class="additional-info" *ngIf="item?.attributes.services">
              <span>{{ item?.attributes.services.name }}: <b>₱{{ item?.attributes.services.total }}</b></span> <br>
              <span>Piping: <b>{{ item?.attributes.services.total_feet }} feet</b></span> <br>
              <small>*Additional <b>₱300</b>/feet after 10feet</small>
            </span>
          </div>
          <div class="item-price">
            {{ item.attributes.one_item_price | currency: '₱' }}
          </div>
          <div class="item-ordered-qty">
            Qty: {{ item.attributes.cart_qty }}
          </div>
          <div class="status-option">
            <ng-container *ngIf="item?.attributes.cancellable">
              <a (click)="cancelItem(item?.id)">
                CANCEL
              </a>
            </ng-container>
            <ng-container *ngIf="item?.attributes.returnable">
              <a (click)="returnItem(item?.id)">
                RETURN
              </a>
            </ng-container>
          </div>
        </div>
      </ng-container>


    </div>
  </div>
  <div class="shipping-billing-total-details">
    <div class="delivery-details">
      <div class="shipping-details shadow">
        <div class="content">
          <div class="shipping-title">
            Shipping Address
          </div>
          <span class="shipping-name">
            {{ orderData?.address.shipping_details.fullname }}
          </span> <br>
          <span class="shipping-address">
            <span
            [class.type-home]="orderData?.address.shipping_details.type == 'HOME'"
            [class.type-office]="orderData?.address.shipping_details.type == 'OFFICE'"
            >{{ orderData?.address.shipping_details.type }}</span>&nbsp;{{ orderData?.address.shipping_details.building }}
          </span>
          <br>
          <span class="shipping-post-code">
            {{ orderData?.address.shipping_details.address }}
          </span>
          <br>
          <span class="shipping-contact">
            {{ orderData?.address.shipping_details.contact }}
          </span>
        </div>
      </div>
      <div class="billing-details shadow">
        <div class="content">
          <div class="billing-title">
            Billing Address
          </div>
          <span class="billing-name">
            {{ orderData?.address.billing_details.fullname }}
          </span> <br>
          <span class="billing-address">
            <span
            [class.type-home]="orderData?.address.shipping_details.type == 'HOME'"
            [class.type-office]="orderData?.address.shipping_details.type == 'OFFICE'"
            >{{ orderData?.address.shipping_details.type }}</span>&nbsp;{{ orderData?.address.billing_details.building }}
          </span>
          <br>
          <span class="billing-post-code">
            {{ orderData?.address.billing_details.address }}
          </span>
          <br>
          <span class="billing-contact">
            {{ orderData?.address.billing_details.contact }}
          </span>
        </div>
      </div>
    </div>
    <div class="total-summary shadow">
      <div class="content">
        <div class="total-title">
          Total Summary
        </div>
        <div class="sub-total">
          <div style="float: left;">
            Subtotal
          </div>
          <div style="float: right;">₱{{ orderData?.sub_total }}</div>
        </div>
        <br>
        <div class="shipping-fee">
          <div style="float: left;">
            Shipping Fee
          </div>
          <div style="float: right;">₱0.00</div>
        </div>
        <br>
        <hr>
        <div class="total-with-vat">
          <div style="float: left;">
            Total(VAT Incl.)
          </div>
          <div class="total-price">
            ₱{{ orderData?.sub_total }}
          </div>
        </div>
        <br>
        <br>
        <div class="paid-by-what">
          <ng-container *ngIf="orderData?.method">
            Paid by {{ orderData?.method }}
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
