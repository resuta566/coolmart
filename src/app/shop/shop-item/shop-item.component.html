<div class="single-product full-width">

  <div id="content" class="site-content" tabindex="-1">
    <div class="container">

      <nav class="woocommerce-breadcrumb">
        <a href="/">Home</a>
        <span class="delimiter"><i class="fa fa-angle-right"></i></span>
        <a [routerLink]="['/shop']">Shop</a>
        <span class="delimiter"><i class="fa fa-angle-right"></i></span>
        <a href="product-category.html">{{ response?.type | titlecase }}</a>
        <span class="delimiter"><i class="fa fa-angle-right"></i>
        </span>{{ response?.attributes.name }}
      </nav><!-- /.woocommerce-breadcrumb -->
      <div id="primary" class="content-area">
        <main id="main" class="site-main">

          <div class="product">

            <div class="single-product-wrapper">
              <div class="product-images-wrapper">
                <ng-container *ngIf="imgArray && imgArray.length && response?.attributes.discountType">
                  <span class="onsale">Sale!</span>
                </ng-container>
                <div class="images electro-gallery">
                  <ng-container *ngIf="imgArray && imgArray.length; else noimage">
                    <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
                  </ng-container>
                  <ng-template #noimage>
                    <h3 class="text-danger">
                      <img src="assets/images/noimage.jpg" alt="No Image">
                    </h3>
                  </ng-template>

                </div><!-- .electro-gallery -->
              </div><!-- /.product-images-wrapper -->

              <div class="summary entry-summary">

                <span class="loop-product-categories">
                  <a href="product-category.html" rel="tag">{{ response?.type | titlecase}}</a>
                </span><!-- /.loop-product-categories -->

                <h1 itemprop="name" class="product_title entry-title">{{ response?.attributes.name }}</h1>

                <div class="woocommerce-product-rating">
                  <div class="star-rating" title="Rated {{ response?.attributes.ratings }} out of 5">
                    <span [style.width.%]="response?.attributes.star_percent_rate">
                      <strong itemprop="ratingValue" class="rating">{{ response?.attributes.ratings }}</strong>
                      out of <span itemprop="bestRating">5</span> based on
                      <span itemprop="ratingCount" class="rating">{{ response?.attributes.total_reviewer }}</span>
                      customer ratings
                    </span>
                  </div>

                  <a class="woocommerce-review-link">(<span itemprop="reviewCount"
                      class="count">{{ response?.attributes.total_reviewer }}</span> customer reviews)</a>
                </div><!-- .woocommerce-product-rating -->

                <div class="brand">
                  <a>
                    <img src="{{ apiUrl }}/{{ response?.relationships.brand.logo }}"
                      alt="{{ response?.relationships.brand.name }}-logo" />
                  </a>
                </div><!-- .brand -->

                <div class="availability in-stock">Availablity:
                  <ng-container *ngIf="response?.attributes.qty > 0; else noStock">
                    <span class="in-stock-product">In stock</span>
                  </ng-container>
                  <ng-template #noStock>
                    <span class="text-danger">Out Of stock</span>
                  </ng-template>

                </div><!-- .availability -->

                <hr class="single-product-title-divider" />

                <div class="action-buttons">

                  <!-- <a href="#" class="add_to_wishlist">
                    Wishlist
                  </a>
                  <a href="#" class="add-to-compare-link" data-product_id="2452">Compare</a> -->
                </div><!-- .action-buttons -->

                <div itemprop="description">
                  <ul>
                    <ng-container *ngIf="response?.relationships.details.data.length; else nodetail">
                      <ng-container *ngFor="let detail of response?.relationships.details.data; let i = index">
                        <li *ngIf="i<4">{{ detail?.attributes.name }} - {{ detail?.attributes.description }}</li>
                      </ng-container>
                    </ng-container>
                    <ng-template #nodetail>
                      <span class="text-danger">No details found!</span>
                    </ng-template>
                  </ul>

                  <!-- <p>{{ response?.attributes.description }}</p> -->
                  <p><strong>SKU</strong>: FW511948218</p>
                </div><!-- .description -->

                <div itemprop="offers" itemscope itemtype="http://schema.org/Offer">

                  <p class="price">
                    <span class="electro-price">
                      <ins><span class="amount itemprice">₱{{ feetPrice | number }} </span></ins>
                      <ng-container *ngIf="response?.attributes.discountType">
                        <del><span class="amount">₱{{ response?.attributes.srp }}</span></del>
                        <span class="discount"> {{ response?.attributes.discountType }} </span>
                      </ng-container>
                    </span></p>

                  <meta itemprop="price" content="1215" />
                  <meta itemprop="priceCurrency" content="PHP" />
                  <link itemprop="availability" href="http://schema.org/InStock" />

                </div><!-- /itemprop -->

                <form class="variations_form cart" method="post">

                  <table class="variations" *ngIf="response?.attributes.standard_installation_fee">
                    <tbody>
                      <tr>
                        <td class="label"><label>Standard Installation Fee</label></td>
                        <td class="value">
                          <select (change)="customMeasurement($event.target.value)" class="" name="attribute_pa_color">
                            <option value="nothing" [selected]="optionValue == 'nothing'">Choose an option</option>
                            <option value="default" [selected]="optionValue == 'default'">10ft
                              {{ response?.attributes.standard_installation_fee | currency:'₱' }}</option>
                            <option value="custom" [selected]="optionValue == 'custom'">Custom Measurement by Feet
                            </option>
                          </select>
                        </td>
                        <td [class.display-it]="customFeet">
                          <div class="quantity buttons_added">
                            <input [disabled]="btndecreaseFeet" type="button" class="plus" value="-"
                              (click)="decreaseFeet()">
                            <label>Quantity:</label>
                            <input [disabled]="btndisabled" readonly type="number" size="4" class="input-text qty text"
                              title="Qty" [value]="thefeet" name="cart[92f54963fc39a9d87c2253186808ea61][qty]"
                              maxlength="10" min="2" step="1">
                            <!-- CSS ISSUE and UX Issue class minus is shown as add and works as add -->
                            <input [disabled]="btnincreaseFeet" type="button" class="minus" value="+"
                              (click)="increaseFeet()">
                          </div>
                          <div>
                            <small>*Additional ₱300/Feet After 10Feet</small>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                  <div class="single_variation_wrap">
                    <div class="woocommerce-variation single_variation"></div>
                    <div class="woocommerce-variation-add-to-cart variations_button">
                      <div class="quantity buttons_added">
                        <input [disabled]="btndisabledminus" type="button" class="plus" value="-"
                          (click)="decreaseQty()">
                        <label>Quantity:</label>
                        <input [disabled]="btndisabled" readonly type="number" size="4" class="input-text qty text"
                          title="Qty" [value]="itemQty" name="cart[92f54963fc39a9d87c2253186808ea61][qty]"
                          max="response?.attributes.qty" min="0" step="1">
                        <!-- CSS ISSUE and UX Issue class minus is shown as add and works as add -->
                        <input [disabled]="btndisabled" type="button" class="minus" value="+" (click)="addQty()">
                      </div>
                      <app-addtocart [service_name]="service_name" [value]="thefeet" [option]="btnaddtocart"
                        [btnclass]="btnclass" [label]="label" [itemId]="response?.id" [qty]="itemQty"></app-addtocart>
                      <input type="hidden" name="add-to-cart" value="2452" />
                      <input type="hidden" name="product_id" value="2452" />
                      <input type="hidden" name="variation_id" class="variation_id" value="10" />
                    </div>
                  </div>
                </form>

              </div><!-- .summary -->
            </div><!-- /.single-product-wrapper -->


            <div class="woocommerce-tabs wc-tabs-wrapper">
              <ul class="nav nav-tabs electro-nav-tabs tabs wc-tabs" role="tablist">

                <li class="nav-item description_tab">
                  <a href="#tab-description" class="active" data-toggle="tab">Description</a>
                </li>

                <li class="nav-item specification_tab">
                  <a href="#tab-specification" data-toggle="tab">Specification</a>
                </li>

                <li class="nav-item reviews_tab">
                  <a href="#tab-reviews" data-toggle="tab" (click)="getReviews()">Reviews</a>
                </li>
              </ul>

              <div class="tab-content">


                <div class="tab-pane active in panel entry-content wc-tab" id="tab-description">
                  <div class="electro-description">
                    <div [innerHtml]="response?.attributes.description">

                    </div>
                  </div><!-- /.electro-description -->

                  <div class="product_meta">
                    <span class="sku_wrapper">SKU: <span class="sku" itemprop="sku">FW511948218</span></span>


                    <span class="posted_in">Category:
                      <a href="#" rel="tag">Aircon</a>
                    </span>

                    <span class="tagged_as">Tags:
                      <a href="#" rel="tag">{{ response?.relationships.brand.name }}</a>
                    </span>

                  </div><!-- /.product_meta -->
                </div>

                <div class="tab-pane panel entry-content wc-tab" id="tab-specification">
                  <h3>Technical Specifications</h3>
                  <table class="table">
                    <tbody>
                      <ng-container *ngIf="!response?.relationships.details.data.length;else details">
                        <span class="text-danger">No details found!</span>
                      </ng-container>
                      <ng-template #details>
                        <tr *ngFor="let detail of response?.relationships.details.data">
                          <td>{{ detail?.attributes.name }}</td>
                          <td>{{ detail?.attributes.description }}</td>
                        </tr>
                      </ng-template>
                    </tbody>
                  </table>
                </div><!-- /.panel -->

                <div class="tab-pane panel entry-content wc-tab reviewcomment" id="tab-reviews">
                  <div id="reviews" class="electro-advanced-reviews" style="padding: 5em;">
                    <div class="advanced-review row">
                      <div class="col-xs-12 col-md-6">
                        <h2 class="based-title">Based on {{ reviewMeta?.total }} reviews</h2>
                        <div class="avg-rating">
                          <span class="avg-rating-number">{{ response?.attributes.ratings }}</span> overall
                          <div class="star-rating">
                            <span [style.width.%]="response?.attributes.star_percent_rate"></span>
                          </div>
                        </div>

                        <div class="rating-histogram">
                          <!-- <div class="rating-bar">
                                                      <div class="star-rating" title="Rated 5 out of 5">
                                                          <span style="width:100%"></span>
                                                      </div>
                                                      <div class="rating-percentage-bar">
                                                          <span style="width:33%" class="rating-percentage">

                                                          </span>
                                                      </div>
                                                      <div class="rating-count">1</div>
                                                  </div> -->
                          <!-- .rating-bar -->
                        </div>
                      </div><!-- /.col -->
                    </div><!-- /.row -->
                    <hr>
                    <div id="comments">

                      <ol class="commentlist">
                        <li *ngFor="let review of reviews" itemprop="review" class="comment even thread-even depth-1">

                          <div id="comment-390" class="comment_container">

                            <img alt='' src="assets/images/blog/avatar.jpg" class="avatar" height='60' width='60' />
                            <div class="comment-text">

                              <div class="star-rating" title="Rated {{ review?.attributes.stars }} out of 5">
                                <span [style.width.%]="review?.attributes.star_percent_rate"><strong
                                    itemprop="ratingValue">{{ review?.attributes.stars }}</strong> out of 5</span>
                              </div>


                              <p class="meta">
                                <strong>{{ review?.attributes.user }}</strong> &ndash;
                                <time itemprop="datePublished">{{ review?.attributes.date }}</time>:
                              </p>



                              <div itemprop="description" class="description">
                                <p>{{ review?.attributes.comment }}
                                </p>
                              </div>


                              <p class="meta">
                                <strong itemprop="author">{{ review?.attributes.user }}</strong> &ndash; <time
                                  itemprop="datePublished">{{ review?.attributes.date }}</time>
                              </p>


                            </div>
                          </div>
                        </li><!-- #comment-## -->
                      </ol><!-- /.commentlist -->

                    </div><!-- /#comments -->

                    <div class="clear"></div>
                  </div><!-- /.electro-advanced-reviews -->
                  <div id="review-pagination" style="padding: 1.5em">
                    <nav class="woocommerce-pagination">
                      <ul class="page-numbers">
                        <li [ngClass]="{hidden: reviewLinks?.prev !== null}">
                          <a class="page-numbers" [ngClass]="{disabled: reviewLinks?.prev == null}">
                            <i class="fa fa-arrow-left"></i>
                          </a>
                        </li>
                        <li [ngClass]="{hidden: reviewLinks?.prev == null}">
                          <a class="page-numbers" (click)="changePageReview(reviewLinks?.prev)">
                            <i class="fa fa-arrow-left"></i>
                          </a>
                        </li>
                        <li><span class="page-numbers current">{{ reviewMeta?.current_page }}</span></li>
                        <li [ngClass]="{hidden: reviewLinks?.next !== null}">
                          <a [ngClass]="{disabled: reviewLinks?.next == null}" class="page-numbers">
                            <i class="fa fa-arrow-right"></i>
                          </a>
                        </li>
                        <li [ngClass]="{hidden: reviewLinks?.next == null}">
                          <a class="page-numbers" (click)="changePageReview(reviewLinks?.next)">
                            <i class="fa fa-arrow-right"></i>
                          </a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div><!-- /.panel -->
              </div>
            </div><!-- /.woocommerce-tabs -->

            <div class="related products">
              <h2>Related Products</h2>

              <ul class="products columns-5">
                <ng-container *ngFor="let product of products;let i = index">
                  <li class="product" *ngIf="i<5">
                    <div class="product-outer">
                      <div class="product-inner">
                        <span class="loop-product-categories"><a href="product-category.html"
                            rel="tag">{{ product?.type | titlecase}}</a></span>
                        <a href="/shop/shop-item/{{ product?.attributes.slug }}">
                          <h3>{{ product?.attributes.name }}</h3>
                          <div class="product-thumbnail">
                            <ng-container *ngIf="product?.attributes.thumbnails.length !== 0; else noImage">
                              <img class="wp-post-image"
                                attr.data-echo="{{ apiUrl }}/{{ product.attributes.thumbnails[0] }}"
                                src="assets/images/blank.gif" alt="product-thumbnail">
                            </ng-container>
                            <ng-template #noImage>
                              <img class="wp-post-image" data-echo="assets/images/noimage.jpg"
                                src="assets/images/blank.gif" alt="product-thumbnail">
                            </ng-template>
                          </div>
                          <div class="product-rating">
                            <div title="Rated {{ product?.attributes.ratings }} out of 5" class="star-rating"><span
                                [style.width.%]="product?.attributes.star_percent_rate"><strong
                                  class="rating">{{ product?.attributes.ratings }}</strong> out of 5</span></div>
                            ({{ product?.attributes.total_reviewer }})
                          </div>

                          <div class="product-short-description">
                            <ul>
                              <ng-container *ngIf="product?.relationships.details.data.length; else noDetails">
                                <ng-container *ngFor="let detail of product?.relationships.details.data; let i = index">
                                  <li *ngIf="i<4">
                                    <span class="a-list-item">{{ detail?.attributes.name }} -
                                      {{ detail?.attributes.description }} </span>
                                  </li>
                                </ng-container>
                              </ng-container>
                              <ng-template #noDetails>
                                <span class="text-danger">No details found!</span>
                              </ng-template>
                            </ul>
                          </div>
                        </a>

                        <div class="price-add-to-cart">
                          <span class="price">
                            <span class="electro-price">
                              <ng-container *ngIf="product?.attributes.discountType; else nodiscount">
                                <del><span class="amount slashed">₱{{ product?.attributes.srp }}</span></del>
                                <ins><span class="amount notslashed">₱{{ product?.attributes.discountedSrp }}
                                  </span></ins>
                                <span class="discount"> {{ product?.attributes.discountType }}</span>
                              </ng-container>
                              <ng-template #nodiscount>
                                <ins><span class="amount">₱{{ product?.attributes.discountedSrp }} </span></ins>
                              </ng-template>
                            </span>
                          </span>
                          <app-addtocart [btnclass]="relatedProductsbtnclass" [label]="label" [itemId]="product?.id"
                            [qty]="1"></app-addtocart>
                        </div><!-- /.price-add-to-cart -->

                        <div class="hover-area">
                          <div class="action-buttons">
                            <ng-container *ngIf="product?.attributes.qty > 0; else noStock">
                              <span class="in-stock-product">In stock</span>
                            </ng-container>
                            <ng-template #noStock>
                              <span class="text-danger">Out Of stock</span>
                            </ng-template>
                          </div>
                        </div>
                      </div><!-- /.product-inner -->
                    </div><!-- /.product-outer -->
                  </li>
                </ng-container>
              </ul><!-- /.products -->
            </div><!-- /.related -->
          </div><!-- /.product -->

        </main><!-- /.site-main -->
      </div><!-- /.content-area -->
    </div><!-- /.container -->
  </div><!-- /.site-content -->

</div>
